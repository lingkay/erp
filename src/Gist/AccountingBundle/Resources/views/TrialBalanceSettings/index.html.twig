{% extends "GistTemplateBundle::base.html.twig" %}
{% import "GistTemplateBundle::form.html.twig" as form %}
{% block content %}
<div class="row">
    <div class="col-md-12">
        <div class="portlet box blue-hoki">
            <div class="portlet-title">
                <div class="caption">{{ list_title }}</div>
                <div class="actions">
                </div>
            </div>
            <div class="portlet-body">
                <div class="table-toolbar">

                </div>

                <div class="portlet box blue-hoki">
                    <div class="portlet-body form">
                        <form method="post" class="form-horizontal">
                            <div class="form-body">
                                {{ form.group_selectmulti('Asset', 'assets', coa_opts, asset_opts_selected , 3, 4) }}
                                {{ form.group_selectmulti('Liability', 'liability', coa_opts, liablity_opts_selected , 3, 4) }}
                                {{ form.group_selectmulti('Capital', 'capital', coa_opts, capital_opts_selected , 3, 4) }}
                                {{ form.group_selectmulti('Net Sales', 'net_sales_sales', coa_opts, netsales_sales_opts_selected , 3, 4) }}
                                {{ form.group_selectmulti('Cos', 'cos', accounts_opts, cos_opts_selected , 3, 4) }}
                                {{ form.group_selectmulti('Opex', 'opex', accounts_opts, opex_opts_selected , 3, 4) }}
                            </div>

                            <div class="form-actions fluid">
                                <div class="col-md-offset-3 col-md-9">
                                    <button type="submit" onclick="return check_duplicate()" class="btn blue mobile-button-full">Save</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
               
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block js %}

<script>
$(document).ready(function() {

});
check_duplicate = function(){
    var check = true;
    var assets    = $('#cform-assets').val();
    var liability = $('#cform-liability').val();
    var capital   = $('#cform-capital').val();
    var net_sales = $('#cform-net_sales').val();
    var cos       = $('#cform-cos').val();
    var opex      = $('#cform-opex').val();
    var array = [];
    var acc_array = [];
    for(i in assets){
        if(jQuery.inArray(assets[i], array) == -1){
            array.push(assets[i]);
        }else{
            check = false
            toastr['error']('Duplicate Entry of detected at Assets!','Error');
        }
    }
    for(i in liability){
        if(jQuery.inArray(liability[i], array) == -1){
            array.push(liability[i]);
        }else{
            check = false
            toastr['error']('Duplicate Entry of detected at Liability!','Error');
        }
    }
    for(i in capital){
        if(jQuery.inArray(capital[i], array) == -1){
            array.push(capital[i]);
        }else{
            check = false
            toastr['error']('Duplicate Entry of detected at Capital!','Error');
        }
    }
    for(i in net_sales){
        if(jQuery.inArray(net_sales[i], array) == -1){
            array.push(net_sales[i]);
        }else{
            check = false
            toastr['error']('Duplicate Entry of detected at Net Sales!','Error');
        }
    }
    for(i in cos){
        if(jQuery.inArray(cos[i], acc_array) == -1){
            acc_array.push(cos[i]);
        }else{
            check = false
            toastr['error']('Duplicate Entry of detected at Cos!','Error');
        }
    }
    for(i in opex){
        if(jQuery.inArray(opex[i], acc_array) == -1){
            acc_array.push(opex[i]);
        }else{
            check = false
            toastr['error']('Duplicate Entry of detected at Opex!','Error');
        }
    }

    return check;
}
</script>
{% endblock %}

{% block css %}
<link href="{{ asset('bundles/gisttemplate/assets/global/plugins/select2/select2.css') }}" rel="stylesheet" type="text/css" />
<link href="{{ asset('bundles/gisttemplate/assets/global/plugins/data-tables/DT_bootstrap.css') }}" rel="stylesheet" type="text/css" />
{% endblock %}
